# Noita 法术编程模拟器需求文档

## 一、项目概述

1. **项目名称**：Noita 法术编程模拟器
2. **项目背景**：Noita 是一款以物理粒子模拟为核心的沙盒类游戏，其独特的法术（spell）系统支持玩家通过节点组合、逻辑运算生成复杂多变的法术效果。本项目旨在开发一款独立于游戏的模拟器，帮助玩家预览、调试和分享自定义法术的逻辑结构与运行效果。
3. **目标**：

   * 提供可视化的法术节点编辑器，支持创建、连接、参数调整等操作。
   * 模拟法术的逻辑流和数据流，预览法术在不同输入（射速、角度、能量等）下的行为。

## 二、主要功能需求

### 2.1 可视化编辑器

* **节点库**：内置 Noita 官方法术节点及常用社区扩展节点，支持自定义节点注册。
* **拖拽连接**：节点之间可用鼠标拖拽连接，支持多输入多输出。
* **参数面板**：点击节点时弹出属性面板，可修改数值、布尔、枚举等参数并实时生效。
* **分组与注释**：支持将节点分组、添加注释、颜色标签，提高可读性。

### 2.2 运行与预览

* **运行时启动**：一键运行模拟，展示法术逻辑执行顺序、粒子路径、碰撞、特效（简单图形化）。
* **输入面板**：可设置初始参数（施法角度、施法速度、施法者属性等），实时影响模拟结果。
* **断点调试**：支持在节点间设置断点，单步执行并查看中间变量值和触发情况。
* **日志与性能**：输出日志面板，记录各节点执行次数、耗时等信息。
